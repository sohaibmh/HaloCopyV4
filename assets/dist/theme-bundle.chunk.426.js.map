{"version":3,"file":"theme-bundle.chunk.426.js","mappings":"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","sources":["webpack://Halo/./assets/js/theme/halothemes/haloSidebarToggle.js","webpack://Halo/./assets/js/theme/common/faceted-search.js","webpack://Halo/./assets/js/theme/common/utils/url-utils.js","webpack://Halo/./assets/js/theme/catalog.js","webpack://Halo/./assets/js/theme/halothemes/haloProductDisplayMode.js"],"sourcesContent":["export default function() {\n    const sidebarMobile = document.querySelector('.page-sidebar-mobile');\n    const sidebar = document.querySelector('.page-sidebar');\n    const body = document.body;\n    const closeBtn = document.querySelector('.page-sidebar .close');\n\n    sidebarMobile.addEventListener('click', function() {\n        sidebarMobile.classList.add('is-open');\n        sidebar.classList.add('is-open');\n        body.classList.add('openSidebar');\n    });\n\n    closeBtn.addEventListener('click', function(event) {\n        event.preventDefault();\n\n        sidebarMobile.classList.remove('is-open');\n        sidebar.classList.remove('is-open');\n        body.classList.remove('openSidebar');\n    });\n\n    document.addEventListener('click', function(event) {\n        if (sidebar.classList.contains('is-open')) {\n            const isClickInsideSidebar = sidebar.contains(event.target);\n            const isClickInsideSidebarMobile = sidebarMobile.contains(event.target);\n\n            if (!isClickInsideSidebar && !isClickInsideSidebarMobile) {\n                sidebarMobile.classList.remove('is-open');\n                sidebar.classList.remove('is-open');\n                body.classList.remove('openSidebar');\n            }\n        }\n    });\n\n    const filterBlock = document.querySelectorAll('.accordion .accordion-block');\n\n    filterBlock.forEach((item) => {\n        const itemList = item.querySelectorAll('.navList-action');\n        \n        let count = 0;\n        \n        itemList.forEach((item) => {\n            if (item.classList.contains('is-selected')) {\n                count++;\n            }\n        });\n        \n        const itemCount = item.querySelector('.number-count');\n        \n        if(count == 0) {\n            itemCount.classList.add('d-none');\n        } else {\n            itemCount.classList.remove('d-none');\n        }\n        \n        itemCount.textContent = `${count}`;\n    });\n}\n","import { hooks, api } from '@bigcommerce/stencil-utils';\nimport _ from 'lodash';\nimport Url from 'url';\nimport urlUtils from './utils/url-utils';\nimport modalFactory from '../global/modal';\nimport collapsibleFactory from './collapsible';\nimport { Validators } from './utils/form-utils';\nimport nod from './nod';\n\n\nconst defaultOptions = {\n    accordionToggleSelector: '#facetedSearch .accordion-navigation, #facetedSearch .facetedSearch-toggle',\n    blockerSelector: '#facetedSearch .blocker',\n    clearFacetSelector: '#facetedSearch .facetedSearch-clearLink',\n    componentSelector: '#facetedSearch-navList',\n    facetNavListSelector: '#facetedSearch .navList',\n    priceRangeErrorSelector: '#facet-range-form .form-inlineMessage',\n    priceRangeFieldsetSelector: '#facet-range-form .form-fieldset',\n    priceRangeFormSelector: '#facet-range-form',\n    priceRangeMaxPriceSelector: $('#facetedSearch').length ? '#facet-range-form [name=max_price]' : '#facet-range-form [name=price_max]',\n    priceRangeMinPriceSelector: $('#facetedSearch').length ? '#facet-range-form [name=min_price]' : '#facet-range-form [name=price_min]',\n    showMoreToggleSelector: '#facetedSearch .accordion-content .toggleLink',\n    facetedSearchFilterItems: '#facetedSearch-filterItems .form-input',\n    modal: modalFactory('#modal')[0],\n    modalOpen: false,\n    sortButton: '.actionBar-dropdown .btn-show-products',\n};\n\n/**\n * Faceted search view component\n */\nclass FacetedSearch {\n    /**\n     * @param {object} requestOptions - Object with options for the ajax requests\n     * @param {function} callback - Function to execute after fetching templates\n     * @param {object} options - Configurable options\n     * @example\n     *\n     * let requestOptions = {\n     *      templates: {\n     *          productListing: 'category/product-listing',\n     *          sidebar: 'category/sidebar'\n     *     }\n     * };\n     *\n     * let templatesDidLoad = function(content) {\n     *     $productListingContainer.html(content.productListing);\n     *     $facetedSearchContainer.html(content.sidebar);\n     * };\n     *\n     * let facetedSearch = new FacetedSearch(requestOptions, templatesDidLoad);\n     */\n    constructor(requestOptions, callback, options) {\n        // Private properties\n        this.requestOptions = requestOptions;\n        this.callback = callback;\n        this.options = _.extend({}, defaultOptions, options);\n        this.collapsedFacets = [];\n        this.collapsedFacetItems = [];\n\n        // Init collapsibles\n        collapsibleFactory();\n\n        // Init price validator\n        this.initPriceValidator();\n\n        // Show limited items by default\n        $(this.options.facetNavListSelector).each((index, navList) => {\n            this.collapseFacetItems($(navList));\n        });\n\n        // Mark initially collapsed accordions\n        $(this.options.accordionToggleSelector).each((index, accordionToggle) => {\n            const $accordionToggle = $(accordionToggle);\n            const collapsible = $accordionToggle.data('collapsibleInstance');\n\n            if (collapsible.isCollapsed) {\n                this.collapsedFacets.push(collapsible.targetId);\n            }\n        });\n\n        // Collapse all facets if initially hidden\n        // NOTE: Need to execute after Collapsible gets bootstrapped\n        setTimeout(() => {\n            if ($(this.options.componentSelector).is(':hidden')) {\n                this.collapseAllFacets();\n            }\n        });\n\n        // Observe user events\n        this.onStateChange = this.onStateChange.bind(this);\n        this.onToggleClick = this.onToggleClick.bind(this);\n        this.onAccordionToggle = this.onAccordionToggle.bind(this);\n        this.onClearFacet = this.onClearFacet.bind(this);\n        this.onFacetClick = this.onFacetClick.bind(this);\n        this.onRangeSubmit = this.onRangeSubmit.bind(this);\n        this.filterFacetItems = this.filterFacetItems.bind(this);\n\n        this.bindEvents();\n    }\n\n    // Public methods\n    refreshView(content) {\n        if (content) {\n            this.callback(content);\n        }\n\n        // Init collapsibles\n        collapsibleFactory();\n\n        // Init price validator\n        this.initPriceValidator();\n\n        // Restore view state\n        this.restoreCollapsedFacets();\n        this.restoreCollapsedFacetItems();\n\n        // Bind events\n        this.bindEvents();\n    }\n\n    updateView() {\n        $(this.options.blockerSelector).show();\n\n        api.getPage(urlUtils.getUrl(), this.requestOptions, (err, content) => {\n            $(this.options.blockerSelector).hide();\n\n            if (err) {\n                throw new Error(err);\n            }\n\n            // Refresh view with new content\n            this.refreshView(content);\n\n            // Refresh range view when shop-by-price enabled\n            const urlParams = new URLSearchParams(window.location.search);\n\n            if (urlParams.has('search_query')) {\n                $('.reset-filters').show();\n            }\n\n            $('input[name=\"price_min\"]').attr('value', urlParams.get('price_min'));\n            $('input[name=\"price_max\"]').attr('value', urlParams.get('price_max'));\n        });\n    }\n\n    expandFacetItems($navList) {\n        const id = $navList.attr('id');\n\n        // Remove\n        this.collapsedFacetItems = _.without(this.collapsedFacetItems, id);\n    }\n\n    collapseFacetItems($navList) {\n        const id = $navList.attr('id');\n        const hasMoreResults = $navList.data('hasMoreResults');\n\n        if (hasMoreResults) {\n            this.collapsedFacetItems = _.union(this.collapsedFacetItems, [id]);\n        } else {\n            this.collapsedFacetItems = _.without(this.collapsedFacetItems, id);\n        }\n    }\n\n    toggleFacetItems($navList) {\n        const id = $navList.attr('id');\n\n        // Toggle depending on `collapsed` flag\n        if (this.collapsedFacetItems.includes(id)) {\n            this.getMoreFacetResults($navList);\n\n            return true;\n        }\n\n        this.collapseFacetItems($navList);\n\n        return false;\n    }\n\n    getMoreFacetResults($navList) {\n        const facet = $navList.data('facet');\n        const facetUrl = urlUtils.getUrl();\n\n        if (this.requestOptions.showMore) {\n            api.getPage(facetUrl, {\n                template: this.requestOptions.showMore,\n                params: {\n                    list_all: facet,\n                },\n            }, (err, response) => {\n                if (err) {\n                    throw new Error(err);\n                }\n\n                this.options.modal.open();\n                this.options.modalOpen = true;\n                this.options.modal.updateContent(response);\n            });\n        }\n\n        this.collapseFacetItems($navList);\n\n        return false;\n    }\n\n    filterFacetItems(event) {\n        const $items = $('.navList-item');\n        const query = $(event.currentTarget).val().toLowerCase();\n\n        $items.each((index, element) => {\n            const text = $(element).text().toLowerCase();\n            if (text.indexOf(query) !== -1) {\n                $(element).show();\n            } else {\n                $(element).hide();\n            }\n        });\n    }\n\n    expandFacet($accordionToggle) {\n        const collapsible = $accordionToggle.data('collapsibleInstance');\n\n        collapsible.open();\n    }\n\n    collapseFacet($accordionToggle) {\n        const collapsible = $accordionToggle.data('collapsibleInstance');\n\n        collapsible.close();\n    }\n\n    collapseAllFacets() {\n        const $accordionToggles = $(this.options.accordionToggleSelector);\n\n        $accordionToggles.each((index, accordionToggle) => {\n            const $accordionToggle = $(accordionToggle);\n\n            this.collapseFacet($accordionToggle);\n        });\n    }\n\n    expandAllFacets() {\n        const $accordionToggles = $(this.options.accordionToggleSelector);\n\n        $accordionToggles.each((index, accordionToggle) => {\n            const $accordionToggle = $(accordionToggle);\n\n            this.expandFacet($accordionToggle);\n        });\n    }\n\n    // Private methods\n    initPriceValidator() {\n        if ($(this.options.priceRangeFormSelector).length === 0) {\n            return;\n        }\n\n        const validator = nod();\n        const selectors = {\n            errorSelector: this.options.priceRangeErrorSelector,\n            fieldsetSelector: this.options.priceRangeFieldsetSelector,\n            formSelector: this.options.priceRangeFormSelector,\n            maxPriceSelector: this.options.priceRangeMaxPriceSelector,\n            minPriceSelector: this.options.priceRangeMinPriceSelector,\n        };\n\n        Validators.setMinMaxPriceValidation(validator, selectors, this.options.validationErrorMessages);\n\n        this.priceRangeValidator = validator;\n    }\n\n    restoreCollapsedFacetItems() {\n        const $navLists = $(this.options.facetNavListSelector);\n\n        // Restore collapsed state for each facet\n        $navLists.each((index, navList) => {\n            const $navList = $(navList);\n            const id = $navList.attr('id');\n            const shouldCollapse = this.collapsedFacetItems.includes(id);\n\n            if (shouldCollapse) {\n                this.collapseFacetItems($navList);\n            } else {\n                this.expandFacetItems($navList);\n            }\n        });\n    }\n\n    restoreCollapsedFacets() {\n        const $accordionToggles = $(this.options.accordionToggleSelector);\n\n        $accordionToggles.each((index, accordionToggle) => {\n            const $accordionToggle = $(accordionToggle);\n            const collapsible = $accordionToggle.data('collapsibleInstance');\n            const id = collapsible.targetId;\n            const shouldCollapse = this.collapsedFacets.includes(id);\n\n            if (shouldCollapse) {\n                this.collapseFacet($accordionToggle);\n            } else {\n                this.expandFacet($accordionToggle);\n            }\n        });\n    }\n\n    bindEvents() {\n        // Clean-up\n        this.unbindEvents();\n\n        // DOM events\n        $(window).on('statechange', this.onStateChange);\n        $(window).on('popstate', this.onPopState);\n        $(document).on('click', this.options.showMoreToggleSelector, this.onToggleClick);\n        $(document).on('toggle.collapsible', this.options.accordionToggleSelector, this.onAccordionToggle);\n        $(document).on('keyup', this.options.facetedSearchFilterItems, this.filterFacetItems);\n        $(this.options.clearFacetSelector).on('click', this.onClearFacet);\n        $(document).on('click', this.options.sortButton, this.onSortBySubmit);\n\n        // Hooks\n        hooks.on('facetedSearch-facet-clicked', this.onFacetClick);\n        hooks.on('facetedSearch-range-submitted', this.onRangeSubmit);\n    }\n\n    unbindEvents() {\n        // DOM events\n        $(window).off('statechange', this.onStateChange);\n        $(window).off('popstate', this.onPopState);\n        $(document).off('click', this.options.showMoreToggleSelector, this.onToggleClick);\n        $(document).off('toggle.collapsible', this.options.accordionToggleSelector, this.onAccordionToggle);\n        $(document).off('keyup', this.options.facetedSearchFilterItems, this.filterFacetItems);\n        $(this.options.clearFacetSelector).off('click', this.onClearFacet);\n        $(document).off('click', this.options.sortButton, this.onSortBySubmit);\n\n        // Hooks\n        hooks.off('facetedSearch-facet-clicked', this.onFacetClick);\n        hooks.off('facetedSearch-range-submitted', this.onRangeSubmit);\n    }\n\n    onClearFacet(event) {\n        const $link = $(event.currentTarget);\n        const url = $link.attr('href');\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        // Update URL\n        urlUtils.goToUrl(url);\n    }\n\n    onToggleClick(event) {\n        const $toggle = $(event.currentTarget);\n        const $navList = $($toggle.attr('href'));\n\n        // Prevent default\n        event.preventDefault();\n\n        // Toggle visible items\n        this.toggleFacetItems($navList);\n    }\n\n    onFacetClick(event, currentTarget) {\n        const $link = $(currentTarget);\n        const url = $link.attr('href');\n\n        event.preventDefault();\n\n        $link.toggleClass('is-selected');\n\n        // Update URL\n        urlUtils.goToUrl(url);\n\n        if (this.options.modalOpen) {\n            this.options.modal.close();\n        }\n    }\n\n    onSortBySubmit(event) {\n        event.preventDefault();\n\n        $('.btn-show-products').removeClass('selected');\n\n        $(event.currentTarget).addClass('selected');\n\n        $(event.currentTarget).closest('.actionBar-dropdown').find('.dropdown-label').text($(event.currentTarget).find('span').text());\n\n        const url = Url.parse(window.location.href, true);\n        let queryParams;\n        \n        if ($(event.currentTarget).closest('#sort').length) {\n            queryParams = ['sort', $(event.currentTarget).attr('data-value')];\n        } else {\n            queryParams = ['limit', $(event.currentTarget).attr('data-value')];\n        }\n\n        url.query[queryParams[0]] = queryParams[1];\n        delete url.query.page;\n\n        // Url object `query` is not a traditional JavaScript Object on all systems, clone it instead\n        const urlQueryParams = {};\n        Object.assign(urlQueryParams, url.query);\n\n        urlUtils.goToUrl(Url.format({ pathname: url.pathname, search: urlUtils.buildQueryString(urlQueryParams) }));\n    }\n\n    onRangeSubmit(event, currentTarget) {\n        event.preventDefault();\n\n        if (!this.priceRangeValidator.areAll(nod.constants.VALID)) {\n            return;\n        }\n\n        const url = Url.parse(window.location.href, true);\n        let queryParams = decodeURI($(currentTarget).serialize()).split('&');\n        queryParams = urlUtils.parseQueryParams(queryParams);\n\n        for (const key in queryParams) {\n            if (queryParams.hasOwnProperty(key)) {\n                url.query[key] = queryParams[key];\n            }\n        }\n\n        // Url object `query` is not a traditional JavaScript Object on all systems, clone it instead\n        const urlQueryParams = {};\n        Object.assign(urlQueryParams, url.query);\n\n        urlUtils.goToUrl(Url.format({ pathname: url.pathname, search: urlUtils.buildQueryString(urlQueryParams) }));\n    }\n\n    onStateChange() {\n        this.updateView();\n    }\n\n    onAccordionToggle(event) {\n        const $accordionToggle = $(event.currentTarget);\n        const collapsible = $accordionToggle.data('collapsibleInstance');\n        const id = collapsible.targetId;\n\n        if (collapsible.isCollapsed) {\n            this.collapsedFacets = _.union(this.collapsedFacets, [id]);\n        } else {\n            this.collapsedFacets = _.without(this.collapsedFacets, id);\n        }\n    }\n\n    onPopState() {\n        if (document.location.hash !== '') return;\n\n        $(window).trigger('statechange');\n    }\n}\n\nexport default FacetedSearch;\n","import Url from 'url';\n\nconst urlUtils = {\n    getUrl: () => `${window.location.pathname}${window.location.search}`,\n\n    goToUrl: (url) => {\n        window.history.pushState({}, document.title, url);\n        $(window).trigger('statechange');\n    },\n\n    replaceParams: (url, params) => {\n        const parsed = Url.parse(url, true);\n        let param;\n\n        // Let the formatter use the query object to build the new url\n        parsed.search = null;\n\n        for (param in params) {\n            if (params.hasOwnProperty(param)) {\n                parsed.query[param] = params[param];\n            }\n        }\n\n        return Url.format(parsed);\n    },\n\n    buildQueryString: (queryData) => {\n        let out = '';\n        let key;\n        for (key in queryData) {\n            if (queryData.hasOwnProperty(key)) {\n                if (Array.isArray(queryData[key])) {\n                    let ndx;\n\n                    for (ndx in queryData[key]) {\n                        if (queryData[key].hasOwnProperty(ndx)) {\n                            out += `&${key}=${queryData[key][ndx]}`;\n                        }\n                    }\n                } else {\n                    out += `&${key}=${queryData[key]}`;\n                }\n            }\n        }\n\n        return out.substring(1);\n    },\n\n    parseQueryParams: (queryData) => {\n        const params = {};\n\n        for (let i = 0; i < queryData.length; i++) {\n            const temp = queryData[i].split('=');\n\n            if (temp[0] in params) {\n                if (Array.isArray(params[temp[0]])) {\n                    params[temp[0]].push(temp[1]);\n                } else {\n                    params[temp[0]] = [params[temp[0]], temp[1]];\n                }\n            } else {\n                params[temp[0]] = temp[1];\n            }\n        }\n\n        return params;\n    },\n};\n\nexport default urlUtils;\n","import PageManager from './page-manager';\nimport urlUtils from './common/utils/url-utils';\nimport Url from 'url';\n\nexport default class CatalogPage extends PageManager {\n    constructor(context) {\n        super(context);\n\n        window.addEventListener('beforeunload', () => {\n            if (document.activeElement.id === 'sort') {\n                window.localStorage.setItem('sortByStatus', 'selected');\n            }\n        });\n    }\n\n    arrangeFocusOnSortBy() {\n        const $sortBySelector = $('[data-sort-by=\"product\"] #sort');\n\n        if (window.localStorage.getItem('sortByStatus')) {\n            $sortBySelector.focus();\n            window.localStorage.removeItem('sortByStatus');\n        }\n    }\n\n    onSortBySubmit(event, currentTarget) {\n        const url = Url.parse(window.location.href, true);\n        const queryParams = $(currentTarget).serialize().split('=');\n\n        url.query[queryParams[0]] = queryParams[1];\n        delete url.query.page;\n\n        event.preventDefault();\n        window.location = Url.format({ pathname: url.pathname, search: urlUtils.buildQueryString(url.query) });\n    }\n}\n","export default function() {\n    const productListing = document.querySelector('#product-listing-container .productListing');\n    const grid = document.querySelectorAll('.grid-view');\n    const dropdownLabel = document.querySelector('.dropdown-label');\n\n    if (!grid) return;\n\n    grid.forEach(item => {\n        item.addEventListener('click', event => {\n            event.preventDefault();\n\n            const target = event.currentTarget;\n            const index = target.getAttribute('data-index');\n            const text = target.textContent;\n\n            if (!target.classList.contains('selected')) {\n                setTimeout(() => { \n                    grid.forEach(g => g.classList.remove('selected'));\n                    target.classList.add('selected');\n                    dropdownLabel.textContent = text;\n                    productListing.setAttribute('data-layout', `product-col${index}`);\n                }, 100);\n            }\n        });\n    });\n}\n"],"names":["sidebarMobile","document","querySelector","sidebar","body","closeBtn","addEventListener","classList","add","event","preventDefault","remove","contains","isClickInsideSidebar","target","isClickInsideSidebarMobile","querySelectorAll","forEach","item","itemList","count","itemCount","textContent","defaultOptions","accordionToggleSelector","blockerSelector","clearFacetSelector","componentSelector","facetNavListSelector","priceRangeErrorSelector","priceRangeFieldsetSelector","priceRangeFormSelector","priceRangeMaxPriceSelector","$","length","priceRangeMinPriceSelector","showMoreToggleSelector","facetedSearchFilterItems","modal","modalFactory","modalOpen","sortButton","FacetedSearch","requestOptions","callback","options","_this","this","_extend","collapsedFacets","collapsedFacetItems","collapsibleFactory","initPriceValidator","each","index","navList","collapseFacetItems","accordionToggle","collapsible","data","isCollapsed","push","targetId","setTimeout","is","collapseAllFacets","onStateChange","bind","onToggleClick","onAccordionToggle","onClearFacet","onFacetClick","onRangeSubmit","filterFacetItems","bindEvents","_proto","prototype","refreshView","content","restoreCollapsedFacets","restoreCollapsedFacetItems","updateView","_this2","show","api","getPage","urlUtils","getUrl","err","hide","Error","urlParams","URLSearchParams","window","location","search","has","attr","get","expandFacetItems","$navList","id","_without","hasMoreResults","_union","toggleFacetItems","includes","getMoreFacetResults","_this3","facet","facetUrl","showMore","template","params","list_all","response","open","updateContent","$items","query","currentTarget","val","toLowerCase","element","text","indexOf","expandFacet","$accordionToggle","collapseFacet","close","_this4","expandAllFacets","_this5","validator","nod","selectors","errorSelector","fieldsetSelector","formSelector","maxPriceSelector","minPriceSelector","Validators","setMinMaxPriceValidation","validationErrorMessages","priceRangeValidator","_this6","_this7","unbindEvents","on","onPopState","onSortBySubmit","hooks","off","url","stopPropagation","goToUrl","$toggle","$link","toggleClass","removeClass","addClass","closest","find","queryParams","Url","href","page","urlQueryParams","Object","assign","pathname","buildQueryString","areAll","constants","VALID","decodeURI","serialize","split","key","parseQueryParams","hasOwnProperty","hash","trigger","history","pushState","title","replaceParams","param","parsed","queryData","out","Array","isArray","ndx","substring","i","temp","CatalogPage","_PageManager","context","call","activeElement","localStorage","setItem","arrangeFocusOnSortBy","$sortBySelector","getItem","focus","removeItem","PageManager","productListing","grid","dropdownLabel","getAttribute","g","setAttribute"],"sourceRoot":""}