{"version":3,"file":"theme-bundle.chunk.346.js","mappings":"8UAM+D,IAE1CA,EAAK,SAAAC,GACtB,SAAAD,EAAYE,GAAS,IAAAC,EAEgD,OADjEA,EAAAF,EAAAG,KAAA,KAAMF,IAAQ,MACTG,sBAAuBC,EAAAA,EAAAA,GAA4BJ,GAASC,CACrE,C,UAACF,G,EAAAD,G,sEAAA,IAAAO,EAAAP,EAAAQ,UA4FA,OA5FAD,EAEDE,QAAA,WACQC,EAAE,kBAAkBC,OAAS,EAC7BC,KAAKC,qBAELD,KAAKE,eAAiBF,KAAKE,eAAeC,KAAKH,MAC/CI,EAAAA,GAAMC,GAAG,mBAAoBL,KAAKE,kBAGtCI,EAAAA,EAAAA,MACAC,EAAAA,EAAAA,KAEAP,KAAKQ,sBACLR,KAAKS,yBAAyBT,KAAKV,QACvC,EAACK,EAEDM,kBAAA,WAAoB,IAAAS,EAAA,KAChBC,EAMIX,KAAKP,qBALiBmB,EAAeD,EAArCE,qBACsBC,EAAeH,EAArCI,qBACuBC,EAAkBL,EAAzCM,sBACuBC,EAAkBP,EAAzCQ,sBACqBC,EAAcT,EAAnCU,oBAEEC,EAA2BxB,EAAE,8BAC7ByB,EAA0BzB,EAAE,6BAE5B0B,EAAiB,CACnBC,SAAU,CACNC,eAAgB,wBAChBC,QAAS,iBAEbC,OAAQ,CACJC,eAAe,EACfC,MAAO,CACHC,SAAU,CACNC,MAVQhC,KAAKV,QAAQ2C,wBAcjCC,SAAU,mBAGdlC,KAAKmC,cAAgB,IAAIC,EAAAA,EAAcZ,GAAgB,SAACa,GACpDf,EAAyBgB,KAAKD,EAAQX,gBACtCH,EAAwBe,KAAKD,EAAQV,SAErC7B,EAAE,QAAQyC,eAAe,gBAEtBjB,EAAyBkB,KAAK,gCAAgCzC,OAAS,GACtED,EAAE,gCAAgC2C,SAAS,YAG5C3C,EAAE,uCAAuCC,OAAS,IACjD2C,EAAAA,EAAAA,GAAwBhC,EAAKpB,QAAS,8BAG1CgB,EAAAA,EAAAA,KAEAI,EAAKF,sBAELmC,OAAOC,SAAS,CAAEC,IAAK,EAAGC,SAAU,UACxC,GAAG,CACCC,wBAAyB,CACrBnC,gBAAAA,EACAE,gBAAAA,EACAE,mBAAAA,EACAE,mBAAAA,EACAE,eAAAA,IAGZ,EAACzB,EAEDc,yBAAA,SAAyBnB,GAClBQ,EAAE,uCAAuCC,OAAS,IACjD2C,EAAAA,EAAAA,GAAwBpD,EAAS,4BAEzC,EAACK,EAEDa,oBAAA,WACI,IACI,IACMwC,EADM,IAAIC,IAAIN,OAAOO,SAASC,MACbC,aAAaC,IAAI,SAExC,GAAIL,EAAY,CACZlD,EAAE,sBAAsBwD,YAAY,YACpC,IAAMC,EAAczD,EAAE,kCAAkCkD,EAAU,MAClEO,EAAYd,SAAS,YACrBc,EAAYC,QAAQ,uBAAuBhB,KAAK,mBAAmBiB,KAAKF,EAAYf,KAAK,QAAQiB,OACrG,CACJ,CAAE,MAAOC,GAAI,CACjB,EAACtE,CAAA,CAhGqB,CAASuE,EAAAA,E","sources":["webpack://Halo/./assets/js/theme/brand.js"],"sourcesContent":["import { hooks } from '@bigcommerce/stencil-utils';\nimport CatalogPage from './catalog';\nimport FacetedSearch from './common/faceted-search';\nimport { createTranslationDictionary } from '../theme/common/utils/translations-utils';\nimport haloAddOptionForProduct from './halothemes/haloAddOptionForProduct';\nimport haloProductDisplayMode from './halothemes/haloProductDisplayMode';\nimport haloSidebarToggle from './halothemes/haloSidebarToggle';\n\nexport default class Brand extends CatalogPage {\n    constructor(context) {\n        super(context);\n        this.validationDictionary = createTranslationDictionary(context);\n    }\n\n    onReady() {\n        if ($('#facetedSearch').length > 0) {\n            this.initFacetedSearch();\n        } else {\n            this.onSortBySubmit = this.onSortBySubmit.bind(this);\n            hooks.on('sortBy-submitted', this.onSortBySubmit);\n        }\n\n        haloProductDisplayMode();\n        haloSidebarToggle();\n\n        this.showProductsPerPage();\n        this.loadOptionForProductCard(this.context);\n    }\n\n    initFacetedSearch() {\n        const {\n            price_min_evaluation: onMinPriceError,\n            price_max_evaluation: onMaxPriceError,\n            price_min_not_entered: minPriceNotEntered,\n            price_max_not_entered: maxPriceNotEntered,\n            price_invalid_value: onInvalidPrice,\n        } = this.validationDictionary;\n        const $productListingContainer = $('#product-listing-container');\n        const $facetedSearchContainer = $('#faceted-search-container');\n        const productsPerPage = this.context.brandProductsPerPage;\n        const requestOptions = {\n            template: {\n                productListing: 'brand/product-listing',\n                sidebar: 'brand/sidebar',\n            },\n            config: {\n                shop_by_brand: true,\n                brand: {\n                    products: {\n                        limit: productsPerPage,\n                    },\n                },\n            },\n            showMore: 'brand/show-more',\n        };\n\n        this.facetedSearch = new FacetedSearch(requestOptions, (content) => {\n            $productListingContainer.html(content.productListing);\n            $facetedSearchContainer.html(content.sidebar);\n\n            $('body').triggerHandler('compareReset');\n\n            if($productListingContainer.find('[data-halo-load=\"animation\"]').length > 0){\n                $('[data-halo-load=\"animation\"]').addClass('animated');\n            }\n\n            if($('#product-listing-container .product').length > 0){\n                haloAddOptionForProduct(this.context, 'product-listing-container');\n            }\n\n            haloProductDisplayMode();\n\n            this.showProductsPerPage();\n\n            window.scrollTo({ top: 0, behavior: 'smooth' });\n        }, {\n            validationErrorMessages: {\n                onMinPriceError,\n                onMaxPriceError,\n                minPriceNotEntered,\n                maxPriceNotEntered,\n                onInvalidPrice,\n            },\n        });\n    }\n\n    loadOptionForProductCard(context) {\n        if($('#product-listing-container .product').length > 0){\n            haloAddOptionForProduct(context, 'product-listing-container');\n        }\n    }\n\n    showProductsPerPage() {\n        try {\n            const url = new URL(window.location.href);\n            const limitValue = url.searchParams.get('limit');\n    \n            if (limitValue) {\n                $('.btn-show-products').removeClass('selected');\n                const selectedBtn = $(`.btn-show-products[data-value=\"${limitValue}\"]`);\n                selectedBtn.addClass('selected');\n                selectedBtn.closest('.actionBar-dropdown').find('.dropdown-label').text(selectedBtn.find('span').text());\n            }\n        } catch (e) {}\n    }\n}\n"],"names":["Brand","_CatalogPage","context","_this","call","validationDictionary","createTranslationDictionary","_proto","prototype","onReady","$","length","this","initFacetedSearch","onSortBySubmit","bind","hooks","on","haloProductDisplayMode","haloSidebarToggle","showProductsPerPage","loadOptionForProductCard","_this2","_this$validationDicti","onMinPriceError","price_min_evaluation","onMaxPriceError","price_max_evaluation","minPriceNotEntered","price_min_not_entered","maxPriceNotEntered","price_max_not_entered","onInvalidPrice","price_invalid_value","$productListingContainer","$facetedSearchContainer","requestOptions","template","productListing","sidebar","config","shop_by_brand","brand","products","limit","brandProductsPerPage","showMore","facetedSearch","FacetedSearch","content","html","triggerHandler","find","addClass","haloAddOptionForProduct","window","scrollTo","top","behavior","validationErrorMessages","limitValue","URL","location","href","searchParams","get","removeClass","selectedBtn","closest","text","e","CatalogPage"],"sourceRoot":""}