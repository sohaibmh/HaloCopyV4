"use strict";(self.webpackChunkbigcommerce_halo=self.webpackChunkbigcommerce_halo||[]).push([[222],{31222:(t,e,a)=>{a.r(e),a.d(e,{default:()=>T});var o=a(4621),i=a(10246),n=a(91238),r=a(15492),s=a(65117),l=a(35717),c=a(33270),d=function(){function t(t){this.$player=t.find("[data-video-player]"),this.$videos=t.find("[data-video-item]"),this.currentVideo={},this.bindEvents()}var e=t.prototype;return e.selectNewVideo=function(t){t.preventDefault();var e=c(t.currentTarget);this.currentVideo={id:e.data("videoId"),$selectedThumb:e},this.setMainVideo(),this.setActiveThumb()},e.setMainVideo=function(){this.$player.attr("src","//www.youtube.com/embed/"+this.currentVideo.id)},e.setActiveThumb=function(){this.$videos.removeClass("is-active"),this.currentVideo.$selectedThumb.addClass("is-active")},e.bindEvents=function(){this.$videos.on("click",this.selectNewVideo.bind(this))},t}(),p=a(96609),u=a(33977),h=a(7059),f=a(76590),m=a(61579),v=a(33270);function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=Array(e);a<e;a++)o[a]=t[a];return o}function g(t,e){var a=parseInt(e.productId),i=v("#halo-related-products"),n=v("#halo-bundle-products"),r=n.find(".halo-product-list .bundle-product-wrapper"),s=e.money;function l(e){e.forEach((function(t){var e=t.data;if(null!=e&&null!=e&&""!=e&&(r.append(e),v(e).find(".halo-toggle-options").length)){var a=v(e).data("product-id"),i=r.find('.halo-product-item[data-product-id="'+a+'"] form'),n=v("[data-fbt-option-change]",i).html().trim().length,s=v(e).find("[data-default]").length;s&&n&&o.Ay.api.productAttributes.optionChange(a,i.serialize(),"products/bulk-discount-rates",(function(t,e){if(null!=e){var a=e.data||{},o=e.content||{};w(i),s?y(i,a,o):_(a)}})),g()}})),v(".halo-product-item",t).each((function(e,a){v(a).on("click","[data-quantity-fbt-change] button",(function(e){e.preventDefault();var a=v(e.currentTarget),o=a.closest(".halo-product-item").data("product-id"),i=v('.halo-product-item[data-product-id="'+o+'"] [name=fbtqty\\[\\]]',t),n=parseInt(i.data("quantityMin"),10),r=parseInt(i.data("quantityMax"),10),s=m.A.numbersOnly(i.val())?parseInt(i.val(),10):n;"inc"===a.data("action")?s=m.A.validateIncreaseAgainstMaxBoundary(s,r):s>1&&(s=m.A.validateDecreaseAgainstMinBoundary(s,n)),i.attr("value",s),i.val(s)}))})),function(){n.hasClass("halo-bundle-login")||p();var t=v("form",n),e=v("[data-fbt-option-change]",t);g(),v(document).on("change",e,(function(t){!function(t){var e=v(t.target),a=e.parents("form"),i=v('[name="product_id"]',a).val();"file"!==e.attr("type")&&void 0!==window.FormData&&e.attr("id")!=="fbt_product"+i&&o.Ay.api.productAttributes.optionChange(i,a.serialize(),"products/bulk-discount-rates",(function(t,e){var o=e.data||{},i=e.content||{};w(a),y(a,o,i),n.hasClass("halo-bundle-login")||p()}))}(t),g()}))}(),n.hasClass("halo-bundle-login")||p(),v("#halo-addAll").find(".number").text(v(".halo-product-item.isChecked").length),n.removeClass("halo-block-disable")}function c(t){var e=!0,a="";return t.find("input:text, input:password, input:file, textarea").each((function(t,a){v(a).prop("required")&&(v(a).val()||(v(a).focus(),e=!1))})),t.find("select").each((function(t,a){v(a).prop("required")&&(v(a).val()||(v(a).focus(),e=!1))})),t.find("input:radio, input:checkbox").each((function(t,o){a!=v(o).attr("name")&&(a=v(o).attr("name"),v(o).prop("required")?("checkbox"==v(o).attr("type")&&(v("[name='"+a+"']:checked").val()||(e=!1)),"radio"==v(o).attr("type")&&(v("[name='"+a+"']:checked").val()||(e=!1))):("checkbox"==v(o).attr("type")&&v("[name='"+a+"']:checked").val(),"radio"==v(o).attr("type")&&v("[name='"+a+"']:checked").val()))})),e}function d(t,a,i,r){if(void 0!==window.FormData){var s=i[a],l=new FormData(t[s]);o.Ay.api.cart.itemAdd(function(t){try{for(var e,a=function(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(a)return(a=a.call(t)).next.bind(a);if(Array.isArray(t)||(a=function(t,e){if(t){if("string"==typeof t)return b(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(e=a()).done;){var o=e.value,i=o[0],n=o[1];n instanceof File&&!n.name&&!n.size&&t.delete(i)}}catch(t){console.error(t)}return t}(l),(function(s,l){var c,p=s||l.data.error;if(v(".halo-product-item").each((function(t,e){var a=v("[name=fbtqty\\[\\]]",e).val();v(e).find("[name=qty\\[\\]]").attr("value",a)})),p){var u=document.createElement("DIV");u.innerHTML=p,alert(u.textContent||u.innerText),r-=1}if(++a>=i.length)if(n.find(".loadingOverlay").hide(),"sidebar"===e.themeSettings.haloAddToCartAction){var h="is-loading",m=v("body"),b=v("#halo-cart-sidebar .halo-sidebar-wrapper"),g=v('<div class="loadingOverlay"></div>');m.addClass("openCartSidebar"),b.addClass(h).html(g),g.show(),o.Ay.api.cart.getContent({template:"common/cart-preview"},(function(t,a){b.removeClass(h).html(a),g.hide();var o=v(a).find("[data-cart-quantity]").data("cartQuantity")||0;m.trigger("cart-quantity-update",o),(0,f.A)(e)}))}else c=e.urls.cart,!function(){try{return window.self!==window.top}catch(t){return!0}}()||window.iframeSdk?window.location=c:window.top.location=c;else d(t,a,i,r)}))}}function p(){var e,a,o,i,l,c,d,p,u,f,m=0,b=0;o=s.decimal_places,i=s.decimal_token,l=s.thousands_token,c=s.currency_location,e=s.currency_token,r.find(".halo-product-item.isChecked").each((function(t,e){var a=parseFloat(v(e).find(".halo-detail-price").attr("data-price-value")),o=parseFloat(v(e).find(".halo-detail-price").attr("data-price-sale-value"));m+=a,b+=o})),m==b?(v(".halo-product-total .price-sale").hide(),v(".halo-product-total").removeClass("has-price-sale")):(v(".halo-product-total .price-sale").show(),v(".halo-product-total").addClass("has-price-sale")),e!=(a=(d=v(".productView-price > .price-section > .price.price--withTax",t).length?v(".productView-price > .price-section > .price.price--withTax",t).data("value-price"):v(".productView-price > .price-section > .price.price--withoutTax",t).data("value-price")).replace(/[0-9]/g,"").replace(".","").replace(",",""))&&(e=a,p=d.indexOf("."),u=d.indexOf(","),f=d.length-1,-1!=d.indexOf(e)&&(c=d.indexOf(e)),p<u?(l=".",i=",",o=0==c||"left"==c?f-u:f-u-1):(l=",",i=".",o=0==c||"left"==c?f-p:f-p-1)),0==m?n.find("#halo-addAll").attr("disabled",!0):n.find("#halo-addAll").attr("disabled",!1),m=h(m,o,i,l),b=h(b,o,i,l),"left"==c||0==c?(m=e+m,b=e+b):(m+=e,b+=e),n.find(".halo-product-total .price").html(m),n.find(".halo-product-total .price-sale").html(b)}function h(t,e,a,o){e=isNaN(e=Math.abs(e))?2:e,a=null==a?".":a,o=null==o?",":o;var i=t<0?"-":"",n=String(parseInt(t=Math.abs(Number(t)||0).toFixed(e))),r=(r=n.length)>3?r%3:0;return i+(r?n.substr(0,r)+o:"")+n.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+o)+(e?a+Math.abs(t-n).toFixed(e).slice(2):"")}function g(){var t=[],e=[];v(".halo-product-item").each((function(a,o){var i=[];v(o).find("[data-fbt-option-change] [data-product-attribute]").each((function(a,o){var n=v(o).find("label").text(),r=n.split(":")[0].trim(),s=n.toLowerCase().includes("required"),l=v(o).data("product-attribute");if("input-file"!==l&&"input-text"!==l&&"input-number"!==l||""!==o.querySelector("input").value||!s){if("textarea"===l&&""===o.querySelector("textarea").value&&s)t.push(o);else if("date"===l){var c=Array.from(o.querySelectorAll("select")).every((function(t){return 0!==t.selectedIndex}));if(c){var d=Array.from(o.querySelectorAll("select")).map((function(t){return t.value})).join("-");return void e.push(r+":"+d)}s&&t.push(o)}else if("set-select"===l){var p=o.querySelector("select"),u=p.selectedIndex;if(0!==u)return e.push(r+":"+p.options[u].innerText),v(o.children[0]).find("[data-option-value]").text(p.options[u].innerText),void i.push(p.options[u].innerText.trim());s&&t.push(o)}else if("set-rectangle"===l||"set-radio"===l||"swatch"===l||"input-checkbox"===l||"product-list"===l){var h=o.querySelector(":checked");if(h){if("set-rectangle"===l||"set-radio"===l||"product-list"===l){var f=h.labels[0].innerText;f&&(e.push(r+":"+f),v(o.children[0]).find("[data-option-value]").text(f),i.push(f.trim()))}if("swatch"===l){var m=h.labels[0].children[0];m&&(e.push(r+":"+m.title),v(o.children[0]).find("[data-option-value]").text(m.title),i.push(m.title.trim()))}return void("input-checkbox"===l&&e.push(r+":Yes"))}"input-checkbox"===l&&e.push(r+":No"),s&&t.push(o)}}else t.push(o)})),""!=i&&v(o).find(".halo-toggle-options .text").text(i.join(" / "))}))}function w(a){var o=a.out_of_stock_behavior,i=a.in_stock_attributes,n=e.outOfStockDefaultMessage,r=a.out_of_stock_message;"hide_option"!==o&&"label_option"!==o||(r=r?" ("+r+")":" ("+n+")",v("[data-product-attribute-value]",t).each((function(t,e){var a=v(e),n=parseInt(a.data("productAttributeValue"),10);-1!==i.indexOf(n)?function(t,e,a){if("set-select"===x(t))return function(t,e,a){"hide_option"===e?t.toggleOption(!0):t.html(t.html().replace(a,""))}(t,e,a);"hide_option"===e?t.show():t.removeClass("unavailable")}(a,o,r):function(t,e,a){if("set-select"===x(t))return function(t,e,a){var o=t.parent();"hide_option"===e?(t.toggleOption(!1),o.val()===t.attr("value")&&(o[0].selectedIndex=0)):t.html(t.html().replace(a,"")+a)}(t,e,a);"hide_option"===e?t.hide(0):t.addClass("unavailable")}(a,o,r)})))}function x(t){var e=t.closest("[data-product-attribute]");return e?e.data("productAttribute"):null}function y(t,e,a){void 0===a&&(a=null);var o=function(t){return{$priceValue:v(".halo-detail-price",t),$priceWithTax:v("[data-product-price-with-tax]",t),$priceWithoutTax:v("[data-product-price-without-tax]",t),rrpWithTax:{$div:v(".rrp-price--withTax",t),$span:v("[data-product-rrp-with-tax]",t)},rrpWithoutTax:{$div:v(".rrp-price--withoutTax",t),$span:v("[data-product-rrp-price-without-tax]",t)},nonSaleWithTax:{$div:v(".non-sale-price--withTax",t),$span:v("[data-product-non-sale-price-with-tax]",t)},nonSaleWithoutTax:{$div:v(".non-sale-price--withoutTax",t),$span:v("[data-product-non-sale-price-without-tax]",t)},priceSaved:{$div:v(".price-section--saving",t),$span:v("[data-product-price-saved]",t)},priceNowLabel:{$span:v(".price-now-label",t)},priceLabel:{$span:v(".price-label",t)},$weight:v(".productView-info [data-product-weight]",t),$increments:v(".form-field--increments :input",t),$addToCart:v("#form-action-addToCart",t),$wishlistVariation:v('[data-wishlist-add] [name="variation_id"]',t),stock:{$container:v(".form-field--stock",t),$input:v("[data-product-stock]",t)},sku:{$label:v(".sku-label",t),$value:v("[data-product-sku]",t)},upc:{$label:v(".upc-label",t),$value:v("[data-product-upc]",t)},quantity:{$text:v(".incrementTotal",t),$input:v("[name=fbtqty\\[\\]]",t)},$bulkPricing:v(".productView-info-bulkPricing",t),$walletButtons:v("[data-add-to-cart-wallet-buttons]",t)}}(t);!function(t,e){var a=v(".productAttributes-message",e);t?(v(".alertBox-message",a).text(t),a.show()):a.hide()}(e.stock_message||e.purchasing_message,t),e.price instanceof Object&&function(t,e){if(function(t){t.rrpWithTax.$div.hide(),t.rrpWithoutTax.$div.hide(),t.nonSaleWithTax.$div.hide(),t.nonSaleWithoutTax.$div.hide(),t.priceSaved.$div.hide(),t.priceNowLabel.$span.hide(),t.priceLabel.$span.hide()}(t),e.with_tax){var a=e.price_range?e.price_range.min.with_tax.formatted+" - "+e.price_range.max.with_tax.formatted:e.with_tax.formatted;t.priceLabel.$span.show(),t.$priceWithTax.html(a),t.$priceValue.attr("data-price-value",e.with_tax.value)}if(e.without_tax){var o=e.price_range?e.price_range.min.without_tax.formatted+" - "+e.price_range.max.without_tax.formatted:e.without_tax.formatted;t.priceLabel.$span.show(),t.$priceWithoutTax.html(o),t.$priceValue.attr("data-price-value",e.without_tax.value)}e.rrp_with_tax&&(t.rrpWithTax.$div.show(),t.rrpWithTax.$span.html(e.rrp_with_tax.formatted),t.$priceValue.attr("data-price-value",e.rrp_with_tax.value)),e.rrp_without_tax&&(t.rrpWithoutTax.$div.show(),t.rrpWithoutTax.$span.html(e.rrp_without_tax.formatted),t.$priceValue.attr("data-price-value",e.rrp_without_tax.value)),e.saved&&(t.priceSaved.$div.show(),t.priceSaved.$span.html(e.saved.formatted)),e.non_sale_price_with_tax&&(t.priceLabel.$span.hide(),t.nonSaleWithTax.$div.show(),t.priceNowLabel.$span.show(),t.nonSaleWithTax.$span.html(e.non_sale_price_with_tax.formatted),t.$priceValue.attr("data-price-sale-value",e.non_sale_price_with_tax.value)),e.non_sale_price_without_tax&&(t.priceLabel.$span.hide(),t.nonSaleWithoutTax.$div.show(),t.priceNowLabel.$span.show(),t.nonSaleWithoutTax.$span.html(e.non_sale_price_without_tax.formatted),t.$priceValue.attr("data-price-sale-value",e.non_sale_price_without_tax.value))}(o,e.price);var i=v('[name="product_id"]',t).val(),n=r.find('.halo-product-item[data-product-id="'+i+'"]'),s=n.find(".halo-detail-checkbox");e.purchasable&&e.instock?(n.addClass("isChecked"),n.find(".status").removeClass("disable").text("Selected"),s.prop("checked",!0).prop("disabled",!1),v("#halo-addAll").find(".number").text(v(".halo-product-item.isChecked").length),t.find("[data-fbt-option-change]").length>0&&1==c(t)&&n.addClass("hasOptions--selected")):(n.removeClass("isChecked hasOptions--selected"),n.find(".status").addClass("disable").text("This item"),s.prop("checked",!1).prop("disabled",!0),v("#halo-addAll").find(".number").text(v(".halo-product-item.isChecked").length))}function _(t,e){var a=v('[name="product_id"]',t).val(),o=r.find('.halo-product-item[data-product-id="'+a+'"]'),i=o.find(".halo-detail-checkbox");e.purchasable&&e.instock?(o.addClass("isChecked"),o.find(".status").removeClass("disable").text("Selected"),i.prop("checked",!0).prop("disabled",!1),v("#halo-addAll").find(".number").text(v(".halo-product-item.isChecked").length),t.find("[data-fbt-option-change]").length>0&&1==c(t)&&o.addClass("hasOptions--selected")):(o.removeClass("isChecked hasOptions--selected"),o.find(".status").addClass("disable").text("This item"),i.prop("checked",!1).prop("disabled",!0),v("#halo-addAll").find(".number").text(v(".halo-product-item.isChecked").length))}!function(){var t,s,c,d,p,u,h={template:"halothemes/product/halo-bundle-products-tmp"},f=[];if(s=r.find(".halo-product-itemFirst"),c=s.data("product-id"),d=s.find("form"),p=d.find("[data-fbt-option-change]").length,(u=d.find("[data-default]").length)&&p&&o.Ay.api.productAttributes.optionChange(c,d.serialize(),"products/bulk-discount-rates",(function(t,e){var a=e.data||{},o=e.content||{};w(d),u?y(d,a,o):_(a)})),t=n.hasClass("halo-bundle-login")?'<div class="halo-product-total">                            <a class="button button--primary button--small halo-product-total-button m-0" disabled href="#"><span>Log in for pricing</span></a>                        </div>':'<div class="halo-product-total d-flex d-block-tb a-i-start j-c-between">                            <div class="total-price">                                <span class="text"><span>Price Total</span></span>                                <span class="price price-sale"></span>                                <span class="price"></span>                            </div>                            <a class="button button--primary button--small halo-product-total-button m-0" id="halo-addAll" href="#"><span>Add <span class="number">all</span> item(s) to bag</span></a>                        </div>',n.find(".bundle-product-right").append(t),v.each(e.productCustomFields,(function(t,e){"__bundleid"==e.name&&(f=JSON.parse("["+e.value+"]"))})),f=v.grep(f,(function(t){return t!=a})),n.length>0&&0==f.length){var m=0,b=[];i.find(".card").each((function(t,e){b.push({index:t,data:""});var a=v(e).data("product-id");null!=a&&o.Ay.api.product.getById(a,h,(function(e,a){if(e)return"";b.forEach((function(e){e.index==t&&(e.data=a)})),++m==i.find(".card").length&&l(b)}))}))}else n.length>0&&f.length>0&&(m=0,b=[],v.each(f,(function(t,e){b.push({i:t,data:""});var a=f[t];null!=a&&o.Ay.api.product.getById(a,h,(function(e,a){if(e)return!1;b.forEach((function(e){e.i==t&&(e.data=a)})),++m==f.length&&l(b)}))})))}(),v(document).on("click",".halo-toggle-options",(function(t){t.preventDefault();var e=v(t.currentTarget);v(".halo-toggle-options").not(e).removeClass("is-focus"),v(".halo-detail-options").not(e.next(".halo-detail-options")).removeClass("is-open"),e.next(".halo-detail-options").hasClass("is-open")?(e.next(".halo-detail-options").removeClass("is-open"),e.removeClass("is-focus")):(e.addClass("is-focus"),e.next(".halo-detail-options").addClass("is-open"))})),v(document).on("click",".halo-option-close",(function(t){t.preventDefault(),v(".halo-detail-options").removeClass("is-open"),v(".halo-toggle-options").removeClass("is-focus")})),v(document).on("click",(function(t){v(".halo-detail-options").hasClass("is-open")&&0===v(t.target).closest(".halo-detail-options").length&&0===v(t.target).closest(".halo-toggle-options").length&&(v(".halo-detail-options").removeClass("is-open"),v(".halo-toggle-options").removeClass("is-focus"))})),v(document).on("change",".halo-detail-checkbox",(function(t){var e=v(t.currentTarget),a=e.attr("id").replace("fbt_product",""),o=v('.halo-product-item[data-product-id="'+a+'"]');0==e.is(":checked")?(o.removeClass("isChecked"),o.find(".status").addClass("disable").text("This item"),v("#halo-addAll").find(".number").text(v(".halo-product-item.isChecked").length)):(o.addClass("isChecked"),o.find(".status").removeClass("disable").text("Selected"),v("#halo-addAll").find(".number").text(v(".halo-product-item.isChecked").length)),p()})),v(document).on("click","#halo-addAll",(function(t){t.preventDefault();var e=v("form",n),a=new Array;v(".halo-detail-checkbox").each((function(t,e){v(e).is(":checked")&&a.push(t)}));var o=!1;if(a.length>0&&(o=function(t,e){for(var a=!0,o=0;o<e.length;o++){var i=e[o],n=v(t[i]);if(n.find("[data-fbt-option-change]").length&&0==(a=c(n)))return!1}return a}(e,a)),o){if(a.length>0){var i=a.length;n.find(".loadingOverlay").show(),d(e,0,a,i)}}else{var r="Please make sure all options have been filled in.";if(r){var s=document.createElement("DIV");return s.innerHTML=r,(0,u.ji)(s.textContent||s.innerText)}}t.preventDefault()}))}var w=a(76970),x=a(10400);function y(t){var e,a,i=(e=parseInt(document.querySelector('[name="product_id"]').value),a=JSON.parse(localStorage.getItem("_halo_recently_viewed")||"[]"),e&&a.includes(parseInt(e))&&a.splice(a.indexOf(parseInt(e)),1),a),n=document.querySelector("#halo-recent-viewed-products"),r=n.querySelector(".swiper-wrapper"),s={template:"halothemes/product/halo-product-template"},l=0;function c(){var e=i[l];e&&o.Ay.api.product.getById(e,s,(function(e,a){e||(r.insertAdjacentHTML("beforeend",a),1+ ++l<Number(n.dataset.limit)&&c(),(0,x.A)(),(0,w.A)(t,"halo-recent-viewed-products"))}))}0==i.length&&(n.style.display="none"),new IntersectionObserver(function(t,e){t[0].isIntersecting&&(e.unobserve(n),c())}.bind(n),{rootMargin:"0px 0px 400px 0px"}).observe(n)}var _=a(33270),k=a(33270);function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}var T=function(t){function e(e){var a;return(a=t.call(this,e)||this).url=window.location.href,a.$reviewLink=k('[data-reveal-id="modal-review-form"]'),a.$bulkPricingLink=k('[data-reveal-id="modal-bulk-pricing"]'),a.reviewModal=(0,u.Ay)("#modal-review-form")[0],a}var a,n;n=t,(a=e).prototype=Object.create(n.prototype),a.prototype.constructor=a,C(a,n);var f=e.prototype;return f.onReady=function(){var t,e,a,o,i,n=this;k(document).on("close.fndtn.reveal",(function(){-1!==n.url.indexOf("#write_review")&&"function"==typeof window.history.replaceState&&window.history.replaceState(null,document.title,window.location.pathname)})),(0,s.Ay)(),a=document.querySelector(".productView-nav"),o=document.querySelector(".productView-for"),e=new h.A(o,{direction:"horizontal",loop:!1,spaceBetween:22,freeMode:!0,slidesPerView:4,watchSlidesProgress:!0}),new h.A(a,{slidesPerView:1,spaceBetween:0,loop:!0,speed:800,pagination:{el:".swiper-pagination",clickable:!0},thumbs:{swiper:e}}),g(k(".halo-productView"),this.context),y(this.context),this.productDetails=new l.A(k(".productView"),this.context,window.BCData.product_attributes),this.productDetails.setProductVariant(),this.context.themeSettings.halo_stickyAddToCart&&(function(){if(_("#form-action-addToCart").length){var t=_("#form-action-addToCart").offset().top;_(window).scroll((function(){_(window).scrollTop()>t+400?_("#halo_sticky_addToCart").hasClass("show_sticky")||(_("#halo_sticky_addToCart").addClass("show_sticky"),_(window).width()>550?_("#recently_bought_list").css("bottom",_("#halo_sticky_addToCart").outerHeight()+40):_("#halo_sticky_addToCart").length?_("#recently_bought_list").css("bottom",_("#halo_sticky_addToCart").outerHeight()+30):_("#recently_bought_list").css("bottom",30)):(_("#halo_sticky_addToCart").removeClass("show_sticky"),_(".pop-up-option").removeClass("is-open"),_("body").removeClass("openPopupOption"),_(".choose_options_add").removeClass("is-active"),_("#recently_bought_list").css("bottom",30))})),_(document).on("click",".choose_options_add",(function(t){_(this).toggleClass("is-active"),_(".pop-up-option").toggleClass("is-open"),_("body").addClass("openPopupOption")})),_(document).on("click",".pop-up-option .close",(function(t){_(".pop-up-option").removeClass("is-open"),_("body").removeClass("openPopupOption"),_(".choose_options_add").removeClass("is-active")})),_(document).on("click",(function(t){_("body").hasClass("openPopupOption")&&0===_(t.target).closest("#halo_sticky_addToCart").length&&(_(".pop-up-option").removeClass("is-open"),_("body").removeClass("openPopupOption"),_(".choose_options_add").removeClass("is-active"))})),window.onload=function(){_(window).scrollTop()>t+400&&(_("#halo_sticky_addToCart").hasClass("show_sticky")||(_("#halo_sticky_addToCart").addClass("show_sticky"),_(window).width()>550?_("#recently_bought_list").css("bottom",_("#halo_sticky_addToCart").outerHeight()+40):_("#halo_sticky_addToCart").length?_("#recently_bought_list").css("bottom",_("#halo_sticky_addToCart").outerHeight()+30):_("#recently_bought_list").css("bottom",30)))}}}(),this.productDetails.setProductVariant2()),c("[data-"+(i="video-gallery")+"]").each((function(t,e){var a=c(e);a.data(i)instanceof d||a.data(i,new d(a))})),this.bulkPricingHandler(),this.videoPopup(),this.soldProduct(k(".productView-soldProduct")),this.countDownProduct(k(".productView-countDown")),this.compareColors(),this.askAnExpert(),this.checkTabActive(),this.checkProduct(),this.setRecentViewedProducts(),window.matchMedia("(min-width: 768px)").addEventListener("change",(function(){n.checkTabActive()}));var u=(0,p.J6)(".writeReview-form");if(0!==u.length){var f=new r.A({$reviewForm:u});k("body").on("click",'[data-reveal-id="modal-review-form"]',(function(){t=f.registerValidation(n.context),n.ariaDescribeReviewInputs(u)})),u.on("submit",(function(){return!!t&&(t.performCheck(),t.areAll("valid"))})),this.productReviewHandler()}},f.ariaDescribeReviewInputs=function(t){t.find("[data-input]").each((function(t,e){var a=k(e),o=a.attr("name")+"-msg";a.siblings("span").attr("id",o),a.attr("aria-describedby",o)}))},f.productReviewHandler=function(){-1!==this.url.indexOf("#write_review")&&this.$reviewLink.trigger("click")},f.bulkPricingHandler=function(){-1!==this.url.indexOf("#bulk_pricing")&&this.$bulkPricingLink.trigger("click")},f.videoPopup=function(){k(".halo-productVideo-link").length>0&&k(document).on("click",".halo-productVideo-link",(function(t){t.preventDefault(),k(".videoGallery-list .videoGallery-item:first-child >a").trigger("click")}))},f.soldProduct=function(t){if(t.length>0){var e=this.context.themeSettings.product_soldProduct_products,a=this.context.themeSettings.product_soldProduct_hours,o=this.context.themeSettings.product_soldProduct_text,i=JSON.parse("["+e+"]"),n=Math.floor(Math.random()*i.length),r=JSON.parse("["+a+"]"),s=Math.floor(Math.random()*r.length);t.html('<svg class="icon d-inline-block v-a-middle"><use xlink:href="#icon-fire"/></svg><span class="text d-inline-block v-a-middle">'+i[n]+" "+o+" "+r[s]+"h</span>"),t.show()}},f.countDownProduct=function(t){if(t.length>0)var e=t.data("countdown"),a=new Date(e).getTime(),o=t,i=setInterval((function(){var e=(new Date).getTime(),n=a-e;if(n<0)clearInterval(i),o.remove();else{var r='<div class="item"><span class="num">'+Math.floor(n/864e5)+'</span><span class="text color-secondary f-size-small"> days</span></div>                                        <div class="item"><span class="num">'+Math.floor(n%864e5/36e5)+'</span><span class="text color-secondary f-size-small"> hours</span></div>                                        <div class="item"><span class="num">'+Math.floor(n%36e5/6e4)+'</span><span class="text color-secondary f-size-small"> mins</span></div>                                        <div class="item"><span class="num">'+Math.floor(n%6e4/1e3)+'</span><span class="text color-secondary f-size-small"> secs</span></div>';o.html(r),t.removeClass("d-none")}}),1e3)},f.compareColors=function(){var t=k(".halo-compareColors-swatch"),e=k(".halo-compareColors-image"),a=k(".halo-compareColors-text");k(".form-option",t).on("click",(function(t){var o=k(t.currentTarget);o.toggleClass("show-color");var n,r,s,l,c=o.find(".form-option-variant").attr("title"),d=o.data("product-swatch-value");if(o.hasClass("show-color")?o.find(".form-option-variant--color").length?(n=o.find(".form-option-variant--color").attr("style"),e.append('<div class="item item-color item-'+d+'"><span class="color" style="'+n+';"></span><span class="title">'+c+"</span></div>")):o.find(".form-option-variant--color2").length?(n=o.find(".form-option-variant--color2 .color1").attr("style"),r=o.find(".form-option-variant--color2 .color2").attr("style"),k(".halo-compareColors-image").append('<div class="item item-color item-'+d+'"><span class="color color2"><span style="'+n+';"></span><span style="'+r+';"></span></span><span class="title">'+c+"</span></div>")):o.find(".form-option-variant--color3").length?(n=o.find(".form-option-variant--color3 .color1").attr("style"),r=o.find(".form-option-variant--color3 .color2").attr("style"),s=o.find(".form-option-variant--color3 .color3").attr("style"),e.append('<div class="item item-color item-'+d+'"><span class="color color3"><span style="'+n+';"></span><span style="'+r+';"></span><span style="'+s+';"></span></span><span class="title">'+c+"</span></div>")):o.find(".form-option-variant--pattern").length&&(o.find(".form-option-variant--pattern").attr("style"),l=o.find(".form-option-variant--pattern").attr("data-pattern"),e.append('<div class="item item-partern item-'+d+'"><span class="image"><img src='+l+" alt="+c+" title="+c+'></span><span class="title">'+c+"</span></div>")):k(".item-"+d,e).remove(),e.children().length>0?a.hide():a.show(),k(window).width()>=1025){var p=document.getElementById("color-swatch-image");new i.Ay(p,{animation:150})}}))},f.askAnExpert=function(){var t,e=this.context.themeSettings.halo_ask_an_expert_pagelink;k(document).ready((function(){o.Ay.api.getPage(e,{template:"halothemes/product/halo-ask-an-expert-form"},(function(t,e){t||k(".hl-form-field-wrapper").html(e)}))})),k(document).on("click",".ask-an-expert-link",(function(t){t.preventDefault(),k("body").addClass("has-askAnExpert")})),k(document).on("click",(function(t){0===k(t.target).closest(".ask-an-expert-link").length&&k("body").removeClass("has-askAnExpert")})),k(".halo-ask-an-expert-form").on("submit",(function(e){e.preventDefault();var a=k(".halo-ask-an-expert-form input[name=type_contact]:checked").val(),o=k(".halo-ask-an-expert-form input[name=type_package]:checked").val(),i=k(".halo-ask-an-expert-form textarea[name=contact_comment_area]").val(),n=k(".halo-ask-an-expert-form #g-recaptcha-response").val(),r=k(".halo-ask-an-expert-form[data-product-ask-title]").attr("data-product-ask-title"),s=k(".halo-ask-an-expert-form[data-product-ask-sku]").attr("data-product-ask-sku"),l=k(".halo-ask-an-expert-form[data-product-ask-url]").attr("data-product-ask-url");""!=n?(""!=a&&""!=o&&""!=i&&""!=n&&(t="\n                    1. Do you need: "+o+" | \n                    2. What can I help you with today: "+i+" | \n                    3. How would you like me to contact you?: "+a+" | \n                    4. Product Name: "+r+" | \n                    5. Product SKU: "+s+" | \n                    6. Product Link: "+l+"\n                "),k("#contact_question").val(t),k.ajax({type:"POST",url:"/pages.php?action=sendContactForm",data:k(".halo-ask-an-expert-form").serialize(),success:function(){k(".halo-ask-an-expert-form").hide(),k("#halo-ask-an-expert-results").html('<div class="alertBox alertBox--success">Thank you. We\'ve received your feedback and will respond shortly.</div>')}})):k("#halo-ask-an-expert-results").html('<div class="alertBox alertBox--error">The captcha you entered is incorrect. Please try again.</div>')}))},f.checkTabActive=function(){var t=document.querySelectorAll("[data-tab] .tab"),e=document.querySelector("[data-tab] .tab:first-child"),a=document.querySelectorAll(".tabs-contents .tab-content"),o=document.querySelector(".tabs-contents .tab-content:first-child");function i(){t&&t.forEach((function(t){t.classList.remove("is-active")})),a&&a.forEach((function(t){t.classList.remove("is-active")}))}window.matchMedia("(min-width: 768px)").matches?(i(),e&&e.classList.add("is-active"),o&&o.classList.add("is-active")):i()},f.checkProduct=function(){var t=k("#halo-related-products"),e=k("#halo-similar-products");""==t.find(".swiper-wrapper").text().trim()&&t.hide(),""==e.find(".swiper-wrapper").text().trim()&&e.hide()},f.setRecentViewedProducts=function(){var t="_halo_recently_viewed",e=parseInt(document.querySelector('[name="product_id"]').value),a=document.querySelector("#halo-recent-viewed-products"),o=JSON.parse(localStorage.getItem(t)||"[]");e&&(o.includes(e)&&(o=o.filter((function(t){return t!==e}))),o.unshift(e),localStorage.setItem(t,JSON.stringify(o.slice(0,Number(a.dataset.limit)))))},e}(n.A)}}]);
//# sourceMappingURL=theme-bundle.chunk.222.js.map
